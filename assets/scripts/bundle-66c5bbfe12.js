!function e(t,a,o){function r(s,i){if(!a[s]){if(!t[s]){var l="function"==typeof require&&require;if(!i&&l)return l(s,!0);if(n)return n(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=a[s]={exports:{}};t[s][0].call(u.exports,function(e){var a=t[s][1][e];return r(a?a:e)},u,u.exports,e,t,a,o)}return a[s].exports}for(var n="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/actions/app-actions.js":[function(e,t,a){"use strict";var o=e("reflux");t.exports=o.createActions({showNotification:{},clearNotification:{},clearNotificationAfter:{}})},{reflux:"reflux"}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/components/dropdown.js":[function(e,t,a){"use strict";var o=e("react/addons"),r=e("reflux"),n=e("jquery"),s=r.createActions({closeOthers:{}}),i=0,l=o.createClass({displayName:"Dropdown",propTypes:{className:o.PropTypes.string,triggerTitle:o.PropTypes.string,triggerClassName:o.PropTypes.string,triggerText:o.PropTypes.string,children:o.PropTypes.node},mixins:[r.listenTo(s.closeOthers,"onCloseOthers")],onCloseOthers:function(e){this.getDOMNode()!==e&&this.setState({open:!1})},bodyListener:function(e){var t=n(e.target).parents('[data-hook="dropdown"]');s.closeOthers(t[0])},getDefaultProps:function(){return{element:"div",className:"",triggerTitle:"",triggerClassName:"",triggerText:""}},getInitialState:function(){return{open:!1}},componentDidMount:function(){1===++i&&n(document).bind("click.dropdown",this.bodyListener)},componentWillUnmount:function(){0===--i&&n(document).unbind("click.dropdown")},closeDropdown:function(e){e.preventDefault(),this.setState({open:!this.state.open})},render:function(){var e=["drop"];return this.state.open&&e.push("open"),this.props.className&&e.push(this.props.className),o.createElement(this.props.element,{className:e.join(" "),"data-hook":"dropdown"},o.createElement("a",{href:"#",title:this.props.triggerTitle,className:this.props.triggerClassName,onClick:this.closeDropdown},o.createElement("span",null,this.props.triggerText)),o.createElement("div",{className:"drop-content"},this.props.children))}});t.exports=l},{jquery:"jquery","react/addons":"react/addons",reflux:"reflux"}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/components/imagery-location.js":[function(e,t,a){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},r=e("react/addons");t.exports=r.createClass({displayName:"ImageryLocation",propTypes:{onValueChange:r.PropTypes.func,removeImageryLocation:r.PropTypes.func,renderErrorMessage:r.PropTypes.func,getValidationMessages:r.PropTypes.func,handleValidation:r.PropTypes.func,sceneName:r.PropTypes.string,sceneId:r.PropTypes.string,index:r.PropTypes.number,validationName:r.PropTypes.string,total:r.PropTypes.number,data:r.PropTypes.object},getName:function(e){return this.props.sceneName+"["+this.props.index+"]["+e+"]"},getId:function(e){return this.props.sceneId+"-"+this.props.index+"-"+e},onChange:function(e,t){this.props.onValueChange(this.props.index,e,t.target.value)},onChangeFile:function(e,t){this.props.onValueChange(this.props.index,e,t.target.files[0])},renderRemoveBtn:function(){return r.createElement("div",{className:"form-img-actions"},r.createElement("button",{type:"button",className:"bttn-remove-imagery",onClick:this.props.removeImageryLocation.bind(null,this.props.index),title:"Remove dataset"},r.createElement("span",null,"Remove dataset")))},renderInput:function(){var e=this,t=this.props.index,a={},n=this.props.validationName+"."+t+".url";switch(this.props.data.origin){case"upload":return n=this.props.validationName+"."+t+".file",a={name:this.getName("url"),id:this.getId("url"),onChange:function(t){e.onChangeFile("upload",t),e.props.handleValidation(n)(t)}},r.createElement("div",null,r.createElement("input",o({type:"file",className:"",placeholder:"Local file"},a)),this.props.renderErrorMessage(this.props.getValidationMessages(n)[0]));case"manual":return a={name:this.getName("url"),id:this.getId("url"),onBlur:this.props.handleValidation(n),onChange:this.onChange.bind(null,"url"),value:this.props.data.url},r.createElement("div",null,r.createElement("input",o({type:"url",className:"form-control",placeholder:"Imagery url"},a)),this.props.renderErrorMessage(this.props.getValidationMessages(n)[0]));case"dropbox":case"gdrive":return""===this.props.data.url?r.createElement("p",null,"Loading file selector. Please wait..."):(a={name:this.getName("url"),id:this.getId("url"),readOnly:!0,value:this.props.data.url},r.createElement("input",o({type:"url",className:"form-control"},a)));default:return null}},render:function(){return r.createElement("div",{className:"imagery-location-fieldset"},this.renderRemoveBtn(),r.createElement("div",{className:"imagery-location"},this.renderInput()))}})},{"react/addons":"react/addons"}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/components/notifications.js":[function(e,t,a){"use strict";var o=e("react/addons"),r=o.createClass({displayName:"Notifications",propTypes:{type:o.PropTypes.string,onNotificationDismiss:o.PropTypes.func,children:o.PropTypes.node},dismissNotification:function(e){e.preventDefault(),this.props.onNotificationDismiss()},render:function(){if(null===this.props.type)return null;var e="notification notification-"+this.props.type;return o.createElement("div",{className:e,role:"alert"},o.createElement("p",null,this.props.children),o.createElement("a",{href:"#",className:"notification-dismiss",title:"Dismiss notification",onClick:this.dismissNotification},o.createElement("span",null,"Dismiss")))}});t.exports=r},{"react/addons":"react/addons"}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/components/scene.js":[function(e,t,a){"use strict";var o=e("react/addons"),r=e("react-widgets").DateTimePicker,n=e("./imagery-location"),s=e("../utils/google");t.exports=o.createClass({displayName:"Scene",firstStartDateChange:!0,propTypes:{onValueChange:o.PropTypes.func,removeScene:o.PropTypes.func,renderErrorMessage:o.PropTypes.func,getValidationMessages:o.PropTypes.func,handleValidation:o.PropTypes.func,addImageryLocationToScene:o.PropTypes.func,removeImageryLocatioFromScene:o.PropTypes.func,index:o.PropTypes.number,total:o.PropTypes.number,data:o.PropTypes.object},getName:function(e){return"scene["+this.props.index+"]["+e+"]"},getId:function(e){return"scene-"+this.props.index+"-"+e},getRadioName:function(e){return this.getName(e)+"[]"},onChange:function(e){var t=e.target.name.match(/scene\[([0-9]+)\]\[([a-z0-9-]+)\]/);this.props.onValueChange(t[1],t[2],e.target.value)},onDateChange:function(e,t,a){var o=null===t?null:t.toISOString();this.props.onValueChange(this.props.index,e,o),"date-start"===e&&this.firstStartDateChange&&(t.setHours(t.getHours()+1),this.props.onValueChange(this.props.index,"date-end",t.toISOString()),this.firstStartDateChange=!1)},onImgLocValueChange:function(e,t,a){var o=this.props.data["img-loc"];"upload"===t?(o[e].file=a,o[e].url="file://"+a.name):o[e][t]=a,this.props.onValueChange(this.props.index,"img-loc",o)},addImageryLocation:function(e){this.props.addImageryLocationToScene(this.props.index,e)},removeImageryLocation:function(e){this.props.removeImageryLocatioFromScene(this.props.index,e)},importDropboxClick:function(){var e=this;this.addImageryLocation("dropbox");var t=this.props.data["img-loc"].length-1;setTimeout(function(){Dropbox.choose({success:function(a){a.forEach(function(a,o){0===o?e.onImgLocValueChange(t,"url",a.link):(e.props.addImageryLocationToScene(e.props.index,"dropbox"),e.onImgLocValueChange(t+o,"url",a.link))})},cancel:function(){e.removeImageryLocation(t)},linkType:"direct",multiselect:!0})},1)},importGDriveClick:function(){var e=this;this.addImageryLocation("gdrive");var t=this.props.data["img-loc"].length-1;setTimeout(function(){s.picker().then(function(a){var o=[],r=0;a.forEach(function(a){return a.shared?(0===r?e.onImgLocValueChange(t,"url",a.dlUrl):(e.props.addImageryLocationToScene(e.props.index,"gdrive"),e.onImgLocValueChange(t+r,"url",a.dlUrl)),void r++):void o.push(a.name)}),o.length&&alert("\nThe following files are not publicly available and can't be used:\n- "+o.join("\n- ")+"\n\nPlease check the instructions on how to use files from Google Drive.\n            ")},function(a){e.removeImageryLocation(t)})},1)},getValueForDate:function(e){return null===this.props.data[e]?null:new Date(this.props.data[e])},dateOrUndefined:function(e){var t=this.getValueForDate(e);return null===t?void 0:t},renderRemoveBtn:function(){var e="bttn-remove-scene"+(this.props.total<=1?" disabled":"");return o.createElement("div",{className:"form-fieldset-actions"},o.createElement("button",{type:"button",className:e,onClick:this.props.removeScene.bind(null,this.props.index),title:"Remove dataset"},o.createElement("span",null,"Remove dataset")))},renderContact:function(){if("other"!==this.props.data["contact-type"])return null;var e=this.props.index;return o.createElement("div",null,o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label none",htmlFor:this.getId("contact-name")},o.createElement("span",{className:"visually-hidden"},"Contact name")),o.createElement("div",{className:"form-control-set"},o.createElement("input",{type:"text",className:"form-control",placeholder:"Name",name:this.getName("contact-name"),id:this.getId("contact-name"),onBlur:this.props.handleValidation("scenes."+e+".contact-name"),onChange:this.onChange,value:this.props.data["contact-name"]}),this.props.renderErrorMessage(this.props.getValidationMessages("scenes."+e+".contact-name")[0]))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label none",htmlFor:this.getId("contact-email")},o.createElement("span",{className:"visually-hidden"},"Contact email")),o.createElement("div",{className:"form-control-set"},o.createElement("input",{type:"email",className:"form-control",placeholder:"Email",name:this.getName("contact-email"),id:this.getId("contact-email"),onBlur:this.props.handleValidation("scenes."+e+".contact-email"),onChange:this.onChange,value:this.props.data["contact-email"]}),this.props.renderErrorMessage(this.props.getValidationMessages("scenes."+e+".contact-email")[0]))))},render:function(){var e=this,t=this.props.index;return o.createElement("fieldset",{className:"form-fieldset scene"},o.createElement("legend",{className:"form-legend"},"Dataset ",t>0?t+1:""),this.renderRemoveBtn(),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label",htmlFor:this.getId("title")},"Title"),o.createElement("div",{className:"form-control-set"},o.createElement("input",{type:"text",className:"form-control",placeholder:"Dataset title",name:this.getName("title"),id:this.getId("title"),onBlur:this.props.handleValidation("scenes."+t+".title"),onChange:this.onChange,value:this.props.data.title}),this.props.renderErrorMessage(this.props.getValidationMessages("scenes."+t+".title")[0]))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Platform"),o.createElement("div",{className:"form-options-set"},o.createElement("div",{className:"radio"},o.createElement("label",null,o.createElement("input",{type:"radio",onChange:this.onChange,name:this.getRadioName("platform-type"),value:"satellite",checked:"satellite"===this.props.data["platform-type"]}),"Satellite")),o.createElement("div",{className:"radio"},o.createElement("label",null,o.createElement("input",{type:"radio",onChange:this.onChange,name:this.getRadioName("platform-type"),value:"aircraft",checked:"aircraft"===this.props.data["platform-type"]}),"Aircraft")),o.createElement("div",{className:"radio"},o.createElement("label",null,o.createElement("input",{type:"radio",onChange:this.onChange,name:this.getRadioName("platform-type"),value:"uav",checked:"uav"===this.props.data["platform-type"]}),"UAV")),o.createElement("div",{className:"radio"},o.createElement("label",null,o.createElement("input",{type:"radio",onChange:this.onChange,name:this.getRadioName("platform-type"),value:"ballon",checked:"ballon"===this.props.data["platform-type"]}),"Ballon")),o.createElement("div",{className:"radio"},o.createElement("label",null,o.createElement("input",{type:"radio",onChange:this.onChange,name:this.getRadioName("platform-type"),value:"kite",checked:"kite"===this.props.data["platform-type"]}),"Kite")))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label",htmlFor:this.getId("sensor")},"Sensor"),o.createElement("div",{className:"form-control-set"},o.createElement("input",{type:"text",className:"form-control",placeholder:"Type/model",name:this.getName("sensor"),id:this.getId("sensor"),onBlur:this.props.handleValidation("scenes."+t+".sensor"),onChange:this.onChange,value:this.props.data.sensor,"aria-describedby":"help-sensor-"+t}),this.props.renderErrorMessage(this.props.getValidationMessages("scenes."+t+".sensor")[0]),o.createElement("p",{id:"help-sensor-"+t,className:"form-help"},"Type or model of image sensor or camera used (ex: Worldview-3)."))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Date start"),o.createElement("div",{className:"form-control-set"},o.createElement(r,{ref:"dateStart",max:this.dateOrUndefined("date-end"),finalView:"decade",format:"yyyy-MM-dd HH:mm:ss",timeFormat:"HH:mm",value:this.getValueForDate("date-start"),onChange:this.onDateChange.bind(null,"date-start")}),this.props.renderErrorMessage(this.props.getValidationMessages("scenes."+t+".date-start")[0]),o.createElement("p",{id:"help-date-start-"+t,className:"form-help"},"If the exact start time is unknown using 00:00:00 will suffice."))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Date end"),o.createElement("div",{className:"form-control-set"},o.createElement(r,{ref:"dateEnd",min:this.dateOrUndefined("date-start"),max:new Date,finalView:"decade",format:"yyyy-MM-dd HH:mm:ss",timeFormat:"HH:mm",value:this.getValueForDate("date-end"),onChange:this.onDateChange.bind(null,"date-end")}),this.props.renderErrorMessage(this.props.getValidationMessages("scenes."+t+".date-end")[0]),o.createElement("p",{id:"help-date-end-"+t,className:"form-help"},"If the exact end time is unknown using 23:59:59 will suffice."))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Imagery location"),o.createElement("div",{className:"form-control-set"},this.props.data["img-loc"].map(function(a,r){return o.createElement(n,{key:r,onValueChange:e.onImgLocValueChange,renderErrorMessage:e.props.renderErrorMessage,getValidationMessages:e.props.getValidationMessages,handleValidation:e.props.handleValidation,removeImageryLocation:e.removeImageryLocation,sceneName:e.getName("img-loc"),sceneId:e.getId("img-loc"),index:r,validationName:"scenes."+t+".img-loc",total:e.props.data["img-loc"].length,data:a})}),o.createElement("div",{className:"imagery-location-import"},o.createElement("button",{type:"button",className:"bttn-imagery-upload",onClick:function(){return e.addImageryLocation("upload")},title:"Upload file directly"},o.createElement("span",null,"Local File")),o.createElement("button",{type:"button",className:"bttn-imagery-manual",onClick:function(){return e.addImageryLocation("manual")},title:"Write url"},o.createElement("span",null,"Url")),o.createElement("button",{type:"button",className:"bttn-imagery-dropbox",onClick:this.importDropboxClick,title:"Import file from dropbox"},o.createElement("span",null,"Dropbox")),o.createElement("button",{type:"button",className:"bttn-imagery-gdrive",onClick:this.importGDriveClick,title:"Import file from Google Drive"},o.createElement("span",null,"Drive")),this.props.renderErrorMessage(this.props.getValidationMessages("scenes."+t+".img-loc")[0]),o.createElement("p",{className:"form-help"},"Select file source location. ",o.createElement("br",null),"Click ",o.createElement("a",{href:"https://docs.openaerialmap.org/uploader/uploader-form/#via-google-drive",title:"How to select files from google drive"},"here")," for instructions on how to use Google Drive.")))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label",htmlFor:this.getId("tile-url")},"Tile service"),o.createElement("div",{className:"form-control-set"},o.createElement("input",{type:"url",className:"form-control",placeholder:"URL (optional)",name:this.getName("tile-url"),id:this.getId("tile-url"),onBlur:this.props.handleValidation("scenes."+t+".tile-url"),onChange:this.onChange,value:this.props.data["tile-url"],"aria-describedby":"help-tile-"+t}),this.props.renderErrorMessage(this.props.getValidationMessages("scenes."+t+".tile-url")[0]),o.createElement("p",{id:"help-tile-"+t,className:"form-help"},"Enter a tile URL template. Valid tokens are ","{z}, {x}, {y} for Z/X/Y, and {u}"," for quadtile scheme."))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label",htmlFor:this.getId("provider")},"Provider"),o.createElement("div",{className:"form-control-set"},o.createElement("input",{type:"text",className:"form-control",placeholder:"Entity name",name:this.getName("provider"),id:this.getId("provider"),onBlur:this.props.handleValidation("scenes."+t+".provider"),onChange:this.onChange,value:this.props.data.provider,"aria-describedby":"help-provider-"+t}),this.props.renderErrorMessage(this.props.getValidationMessages("scenes."+t+".provider")[0]),o.createElement("p",{id:"help-provider-"+t,className:"form-help"},"Name of company or individual that collected or provided the imagery."))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label",htmlFor:this.getId("tags")},"Tags"),o.createElement("div",{className:"form-control-set"},o.createElement("input",{type:"text",className:"form-control",placeholder:"Comma-separated tags",name:this.getName("tags"),id:this.getId("tags"),onBlur:this.props.handleValidation("scenes."+t+".tags"),onChange:this.onChange,value:this.props.data.tags,"aria-describedby":"help-tags-"+t}),this.props.renderErrorMessage(this.props.getValidationMessages("scenes."+t+".tags")[0]),o.createElement("p",{id:"help-tags-"+t,className:"form-help"},"Any additional metadata tags applicable to the dataset."))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Contact"),o.createElement("div",{className:"form-options-set"},o.createElement("div",{className:"radio"},o.createElement("label",null,o.createElement("input",{type:"radio",name:this.getRadioName("contact-type"),onChange:this.onChange,value:"uploader",checked:"uploader"===this.props.data["contact-type"]}),"Same as uploader")),o.createElement("div",{className:"radio"},o.createElement("label",null,o.createElement("input",{type:"radio",name:this.getRadioName("contact-type"),onChange:this.onChange,value:"other",checked:"other"===this.props.data["contact-type"]}),"Other")))),this.renderContact(),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"License"),o.createElement("div",{className:"form-options-set"},o.createElement("div",{className:"radio"},o.createElement("label",null,o.createElement("input",{type:"radio",name:this.getRadioName("license"),onChange:this.onChange,value:"CC-BY 4.0",checked:"CC-BY 4.0"===this.props.data.license}),o.createElement("a",{href:"https://creativecommons.org/licenses/by/4.0/"},"CC-BY 4.0"))))))}})},{"../utils/google":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/utils/google.js","./imagery-location":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/components/imagery-location.js","react-widgets":"react-widgets","react/addons":"react/addons"}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config.js":[function(e,t,a){"use strict";var o=e("lodash.defaultsdeep"),r={local:e("./config/local.js"),logo:e("./config/logo.js"),production:e("./config/production.js"),staging:e("./config/staging.js")},n=r.local||{};o(n,r.production),t.exports=n},{"./config/local.js":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config/local.js","./config/logo.js":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config/logo.js","./config/production.js":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config/production.js","./config/staging.js":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config/staging.js","lodash.defaultsdeep":"lodash.defaultsdeep"}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config/local.js":[function(e,t,a){"use strict";t.exports={}},{}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config/logo.js":[function(e,t,a){"use strict";var o=["╭──────────────────────────────────────╮","│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░█░░░░░░░░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░█░░█░░░░█░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░██░░█░░██░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░███░█░███░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░███░████░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░███████░░░░░░█░░░█░░░░░│","│░░░░░░░░██░░░░░██████░░░░░██░░██░░░░░░│","│░░░░░█░░░██░░░░░█████░░░███░███░░░░░░░│","│░░░░░░██░░███░░░█████░░██████░░░░░░░░░│","│░░░░░░░░██░███░░█████░░████░░░░░░░░░░░│","│░░░░░░░░░██████░░████░███░░░░░░░░░░░░░│","│░░░░░░░░░░░░████░███░░█░░░░░░░░░░░░░░░│","│░░░░░░█████░░░░████░░░░░░░░░░░░░░░░░░░│","│░░░░░░░░██████░░░██░░░█░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░████░█████░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░██████░░░░░░░░░░░░░░░░░░│","│░░░░░░░░░░░░░░░░░███░░░░░░░░░░░░░░░░░░│","╰──────────────────────────────────────╯"],r=[];o=o.map(function(e,t){return e.replace(/(^|[|│])|(░+)|(█+)/g,function(e,t,a,o){return t?(r.push("black"),"%c"+t):a?(r.push("#cf3f02"),"%c"+a):o||!e?(r.push("black"),"%c"+(o||"")):void 0})}).concat(["                                        ","%c           DEVELOPMENT SEED             "]).join("\n"),r=r.map(function(e){return"color: "+e}).concat(["color: #cf3f02; font-weight: bold"]),t.exports=[o].concat(r)},{}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config/production.js":[function(e,t,a){"use strict";var o=e("./logo");t.exports={environment:"production",consoleMessage:o,OAMUploaderApi:"https://upload-api.openaerialmap.org/",uploadBucket:"oam-uploader-production-temp",googleClient:"36015894456-p23fapcrlb8gu5jso00j69uv1c8861j1.apps.googleusercontent.com",googleDeveloperKey:"",OAMBrowserUrl:"https://map.openaerialmap.org"}},{"./logo":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config/logo.js"}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config/staging.js":[function(e,t,a){"use strict";t.exports={environment:"staging",OAMUploaderApi:"http://upload-api-staging.openaerialmap.org/",uploadBucket:"oam-uploader-staging-temp",googleClient:"36015894456-3d5ka80qtpaqcjhco3lsl38s1fj0dr71.apps.googleusercontent.com",googleDeveloperKey:"",OAMBrowserUrl:"http://hotosm-oam-staging.s3-website-us-east-1.amazonaws.com"};var o=e("./production");for(var r in o)"undefined"==typeof t.exports[r]&&(t.exports[r]=o[r])},{"./production":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config/production.js"}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/main.js":[function(e,t,a){"use strict";var o=e("react/addons"),r=e("react-router"),n=r.Route,s=r.Redirect,i=e("./views/app"),l=e("./views/home"),c=e("./views/status"),u=e("./views/uhoh"),p=o.createElement(n,{handler:i},o.createElement(n,{name:"home",path:"/",handler:l}),o.createElement(n,{name:"status",path:"/status/:id",handler:c}),o.createElement(n,{name:"404",path:"/404",handler:u}),o.createElement(s,{from:"*",to:"/404"}));r.run(p,function(e){o.render(o.createElement(e,null),document.querySelector(".site-canvas"))})},{"./views/app":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/views/app.js","./views/home":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/views/home.js","./views/status":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/views/status.js","./views/uhoh":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/views/uhoh.js","react-router":"react-router","react/addons":"react/addons"}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/utils/cookie.js":[function(e,t,a){"use strict";t.exports.create=function(e,t,a,o){o=o||"/";var r="";if(a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3),r="; expires="+n.toGMTString()}document.cookie=e+"="+t+r+"; path="+o},t.exports.read=function(e){for(var t=e+"=",a=document.cookie.split(";"),o=0;o<a.length;o++){for(var r=a[o];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},t.exports.erase=function(e,a){a=a||"/",t.exports.createCookie(e,"",-1,a)}},{}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/utils/google.js":[function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=e("../config"),n=o(r);OAM_UP.gPickerApiLoaded=!1,OAM_UP.gAuthApiLoaded=!1,OAM_UP.gAuthToken=!1,OAM_UP.developerKey=n["default"].googleDeveloperKey;var s=function(){gapi.load("auth",{callback:function(){OAM_UP.gAuthApiLoaded=!0}}),gapi.load("picker",{callback:function(){OAM_UP.gPickerApiLoaded=!0}})},i=function(){var e=new Promise(function(e,t){return OAM_UP.gAuthToken?e():OAM_UP.gAuthApiLoaded?void gapi.auth.authorize({client_id:n["default"].googleClient,scope:"https://www.googleapis.com/auth/drive.readonly",immediate:!1},function(a){return a&&!a.error?(OAM_UP.gAuthToken=a.access_token,e()):t("gapi.auth.authorize error: "+a.error)}):t("auth api not loaded")});return e},l=function(){var e=new Promise(function(e,t){return OAM_UP.gPickerApiLoaded?OAM_UP.gAuthToken?void(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).addView(google.picker.ViewId.DOCS).setOAuthToken(OAM_UP.gAuthToken).setDeveloperKey(OAM_UP.developerKey).setCallback(function(a){if(console.log("data",a),a[google.picker.Response.ACTION]===google.picker.Action.PICKED){var o=a[google.picker.Response.DOCUMENTS].map(function(e){return{name:e.name,shared:e.isShared,dlUrl:e.isShared?"gdrive://"+e.id:null}});return e(o)}if(a[google.picker.Response.ACTION]===google.picker.Action.CANCEL)return t("google picker canceled")}).build().setVisible(!0):t("auth token not available"):t("gpicker api not loaded")});return e};window.onGApiLoad=s,t.exports.picker=function(){return i().then(l)}},{"../config":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config.js"}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/views/app.js":[function(e,t,a){"use strict";var o=e("react/addons"),r=e("reflux"),n=e("react-router"),s=n.RouteHandler,i=e("../actions/app-actions"),l=e("../components/notifications");t.exports=o.createClass({displayName:"App",mixins:[r.listenTo(i.showNotification,"onNotificationShow"),r.listenTo(i.clearNotification,"dismissNotification"),r.listenTo(i.clearNotificationAfter,"dismissNotification"),n.State],getInitialState:function(){return{notification:{type:null,message:null}}},onNotificationShow:function(e,t){this.setState({notification:{type:e,message:t}})},dismissNotification:function(e){e||(e=0),setTimeout(function(){this.setState({notification:{type:null,message:null}})}.bind(this),e)},render:function(){return o.createElement("div",null,o.createElement("div",{className:"inner-wrapper"},o.createElement("header",{className:"site-header",role:"banner"},o.createElement("div",{className:"inner"},o.createElement("div",{className:"site-headline"},o.createElement("h1",{className:"site-title"},o.createElement("img",{src:"assets/graphics/layout/oam-logo-h-pos.svg",width:"167",height:"32",alt:"OpenAerialMap logo"}),o.createElement("span",null,"OpenAerialMap"),o.createElement("small",null,"Uploader"))))),o.createElement("main",{className:"site-body",role:"main"},o.createElement("div",{className:"inner"},o.createElement(s,null)))),o.createElement(l,{type:this.state.notification.type,onNotificationDismiss:this.dismissNotification},this.state.notification.message))}})},{"../actions/app-actions":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/actions/app-actions.js","../components/notifications":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/components/notifications.js","react-router":"react-router","react/addons":"react/addons",reflux:"reflux"}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/views/home.js":[function(e,t,a){(function(a){"use strict";var o=e("url"),r=e("react/addons"),n=e("react-validation-mixin"),s=e("joi"),i=e("nets"),l=e("../components/scene"),c=e("../components/dropdown"),u=e("../config.js").OAMUploaderApi,p=e("../actions/app-actions"),m=e("../utils/cookie.js"),d=e("jquery"),h=e("lodash"),f=e("../config"),g="oam-uploader";t.exports=r.createClass({displayName:"Home",mixins:[n],validatorTypes:{"uploader-name":s.string().label("Name").required(),"uploader-token":s.string().required().hex().length(64).label("Token"),"uploader-email":s.string().email().label("Email"),scenes:s.array().items(s.object().keys({title:s.string().min(1).required().label("Title"),"platform-type":s.string().required().valid("satellite","aircraft","uav","ballon","kite"),sensor:s.string().required().label("Sensor"),"date-start":s.date().required().label("Date start"),"date-end":s.date().min(s.ref("date-start")).max("now").required().label("Date End"),"img-loc":s.array().min(1).items(s.object().keys({url:s.string().uri().required().label("Imagery url"),origin:s.string().required().label("Imagery file origin"),file:s.label("File").when("origin",{is:"upload",then:s.object().required()})})).label("Imagery location"),"tile-url":s.string().allow("").label("Tile service"),provider:s.string().required().label("Provider"),"contact-type":s.string().required().valid("uploader","other"),"contact-name":s.label("Name").when("contact-type",{is:"other",then:s.string().required()}),"contact-email":s.label("Email").when("contact-type",{is:"other",then:s.string().email().required()}),license:s.string().required().label("License"),tags:s.string().allow("").label("Tags")}))},fieldsToPrepopulate:{parent:["uploader-token","uploader-name","uploader-email"],scene:["title","platform-type","sensor","date-start","dte-end","tile-url","provider","contact-type","contact-name","contact-email","license","tags"]},getInitialState:function(){if(a.env.DS_DEBUG)return{loading:!1,"uploader-token":"","uploader-name":"Dummy Dum Dum","uploader-email":"zimmy@fake.com",scenes:[this.getSceneDataTemplate()],uploadActive:!1,uploadProgress:0,uploadError:!1,uploadStatus:""};var e={loading:!1,"uploader-token":"","uploader-name":"","uploader-email":"",scenes:[this.getSceneDataTemplate()],uploadActive:!1,uploadProgress:0,uploadError:!1,uploadStatus:""};return e=this.applyCookieValues(this.fieldsToPrepopulate.parent,e)},getSceneDataTemplate:function(){var e=new Date;e.setMilliseconds(0),e.setSeconds(0),e.setMinutes(0),e.setHours(0);var t=new Date;if(a.env.DS_DEBUG)return{title:"An imaginary scene","platform-type":"satellite",sensor:"x","date-start":e.toISOString(),"date-end":t.toISOString(),"img-loc":[this.getSceneImgLocTemplate()],"tile-url":"",provider:"Mocks R Us","contact-type":"uploader","contact-name":"","contact-email":"",license:"CC-BY 4.0",tags:"tropical, paradise"};var o={"platform-type":"satellite",sensor:"","date-start":e.toISOString(),"date-end":t.toISOString(),"img-loc":[],"tile-url":"",provider:"","contact-type":"uploader","contact-name":"","contact-email":"",license:"CC-BY 4.0",tags:""};return o=this.applyCookieValues(this.fieldsToPrepopulate.scene,o)},cookieNameForFormField:function(e){return g+":"+e},applyCookieValues:function(e,t){var a=this;return e.map(function(e){t[e]=m.read(a.cookieNameForFormField(e))||t[e]}),t},saveValuesToCookie:function(e,t){
var a=this;e.map(function(e){m.create(a.cookieNameForFormField(e),t[e])})},getSceneImgLocTemplate:function(){return a.env.DS_DEBUG?{url:"http://fake-imagery.net/fake.tif",origin:"manual"}:{url:"",origin:""}},addScene:function(){var e=this.state.scenes;e.push(this.getSceneDataTemplate()),this.setState({scenes:e})},removeScene:function(e){var t=this.state.scenes;t.splice(e,1),this.setState({scenes:t})},addImageryLocationToScene:function(e,t){var a=this.state.scenes,o=this.getSceneImgLocTemplate();o.origin=t,a[e]["img-loc"].push(o),this.setState({scenes:a})},removeImageryLocatioFromScene:function(e,t){var a=this.state.scenes;a[e]["img-loc"].splice(t,1),this.setState({scenes:a})},onSceneValueChange:function(e,t,a){var o=this.state.scenes;o[e][t]=a,this.setState({scenes:o})},onValueChange:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)},uploadFile:function(e,t,a){fetch(o.resolve(u,"/uploads/url?access_token="+t),{method:"POST",body:JSON.stringify({name:e.newName,type:e.data.type})}).then(function(e){return e.json()}).then(function(t){var o=t.url;d.ajax({xhr:function r(){var r=new window.XMLHttpRequest;return r.upload.addEventListener("progress",function(t){if(t.lengthComputable)return a(null,{type:"progress",fileName:e.newName,val:t.loaded})},!1),r},url:o,data:e.data,processData:!1,contentType:e.data.type,type:"PUT",error:function(e){return a(e)},beforeSend:function(){return a(null,{type:"beforeSend"})},success:function(e){return a(null,{type:"success",val:e})}})})},onSubmit:function(e){e.preventDefault(),this.state.errors={},this.validate(function(e,t){var a=this;if(e)console.log(t),p.showNotification("alert","Form contains errors!"),this.scrollToError();else{if(this.state.loading)return;this.setState({loading:!0}),p.clearNotification();var o=this.state["uploader-token"],n={name:this.state["uploader-name"],email:this.state["uploader-email"]},s={uploader:n,scenes:this.state.scenes.map(function(e){var t="other"===e["contact-type"],a={name:t?e["contact-name"]:n.name,email:t?e["contact-email"]:n.email},o=e["tile-url"].trim();o=0===o.length?void 0:o;var r=function(e){var t=e.substr(e.lastIndexOf(".")),a=e.replace(t,""),o=Math.random().toString(36).substring(5);return a+"-"+o+t},s=[],i=[];return e["img-loc"].forEach(function(e){if(e.file){var t=r(e.file.name);s.push({newName:t,data:e.file}),i.unshift("https://s3.amazonaws.com/"+f.uploadBucket+"/"+t)}else i.push(e.url)}),{contact:a,title:e.title,provider:e.provider,platform:e["platform-type"],sensor:e.sensor,acquisition_start:e["date-start"],acquisition_end:e["date-end"],tms:o,license:e.license,tags:e.tags,urls:i,files:s}})};this.saveValuesToCookie(this.fieldsToPrepopulate.parent,this.state),this.saveValuesToCookie(this.fieldsToPrepopulate.scene,this.state.scenes[0]);var i=[],l=0;s.scenes.forEach(function(e){e.files.length&&e.files.forEach(function(e){l+=e.data.size,e.data&&i.push(e)}),delete e.files});var c=i.length;if(c){var u={};i.forEach(function(e){u[e.data.name]=0,a.uploadFile(e,o,function(e,t){if(e)return console.log("error",e),a.setState({uploadError:!0,uploadActive:!1,loading:!1}),void p.showNotification("alert",r.createElement("span",null,"There was a problem uploading the files."));if("progress"===t.type){var n=t.fileName,i=t.val;u[n]=i;var m=h.reduce(u,function(e,t){return e+t},0),d=m/l*100,f=Math.round(d),g="";g=1===c?"Uploading image ("+f+"%)...":"Uploading "+c+" images ("+f+"%)...",a.setState({uploadProgress:d,uploadStatus:g})}else"beforeSend"===t.type?a.setState({uploadError:!1,uploadActive:!0}):"success"===t.type&&a.state.uploadProgress>=100&&(a.setState({uploadError:!1,uploadActive:!1,uploadStatus:"Upload complete!"}),a.submitData(s,o))})})}else this.submitData(s,o)}}.bind(this))},submitData:function(e,t){i({url:o.resolve(u,"/uploads?access_token="+t),method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},function(e,t,a){if(e&&console.error("error",e),this.setState({loading:!1}),t.statusCode>=200&&t.statusCode<400){var o=JSON.parse(a.toString()).upload;p.showNotification("success",r.createElement("span",null,"Your upload request was successfully submitted and is being processed. ",r.createElement("a",{href:"#/status/"+o,onClick:p.clearNotification},"Check upload status.")))}else{var n=null;n=401===t.statusCode?r.createElement("span",null,"The provided token is not valid."):r.createElement("span",null,"There was a problem with the request."),p.showNotification("alert",n)}}.bind(this))},scrollToError:function(){var e=d(".message-alert").first().offset().top;d("html").animate({scrollTop:e-50})},renderErrorMessage:function(e){return e=e||"",0===e.trim().length?null:r.createElement("p",{className:"message message-alert"},e)},renderScene:function(e,t){return r.createElement(l,{key:t,total:this.state.scenes.length,index:t,data:e,onValueChange:this.onSceneValueChange,removeScene:this.removeScene,addImageryLocationToScene:this.addImageryLocationToScene,removeImageryLocatioFromScene:this.removeImageryLocatioFromScene,handleValidation:this.handleValidation,getValidationMessages:this.getValidationMessages,renderErrorMessage:this.renderErrorMessage})},render:function(){return r.createElement("div",null,r.createElement("div",{className:"intro-block"},r.createElement("p",null,"Welcome to the ",r.createElement("a",{href:"http://openaerialmap.org/",title:"Visit OpenAerialMap"},"OpenAerialMap")," Imagery Uploader.",r.createElement("br",null),"Use the form below to submit your imagery - a valid upload token is needed. ",r.createElement("a",{href:"https://github.com/hotosm/oam-uploader",title:"Go to the GitHub repo"},"Read the documentation")," to learn how to contribute."),r.createElement(c,{element:"div",className:"drop dropdown center",triggerTitle:"Request a token",triggerClassName:"bttn-request-token",triggerText:"Request a token"},r.createElement("ul",{className:"drop-menu request-token-menu",role:"menu"},r.createElement("li",{className:"github has-icon-bef"},r.createElement("a",{href:"https://github.com/hotosm/oam-uploader-admin/issues/new?title=New%20Token--%5BNAME%5D&body=Name%3A%20%0AEmail%3A%20%0ALocation%20of%20imagery%3A%20%0ASource%20of%20imagery%3A%20%0AShort%20description%20of%20collection%3A%0AHave%20you%20received%20approval%20for%20making%20this%20imagery%20available%20(yes%2Fno)%3F%3A",title:"Open GitHub issue"},r.createElement("span",null,"Open GitHub issue"))),r.createElement("li",{className:"email has-icon-bef"},r.createElement("a",{href:"mailto:info%40openaerialmap.org?subject=New%20Token--%5BNAME%5D&body=Name%3A%20%0AEmail%3A%20%0ALocation%20of%20imagery%3A%20%0ASource%20of%20imagery%3A%20%0AShort%20description%20of%20collection%3A%0AHave%20you%20received%20approval%20for%20making%20this%20imagery%20available%20(yes%2Fno)%3F%3A",title:"Send email"},r.createElement("span",null,"Send email")))))),r.createElement("section",{className:"panel upload-panel"},r.createElement("header",{className:"panel-header"},r.createElement("div",{className:"panel-headline"},r.createElement("h1",{className:"panel-title"},"Upload"))),r.createElement("div",{className:"panel-body"},r.createElement("div",{className:"meter"},r.createElement("span",null)),r.createElement("form",{id:"upload-form",className:"form-horizontal"},r.createElement("div",{className:"meter"},r.createElement("span",null)),r.createElement("fieldset",{className:"form-fieldset general"},r.createElement("legend",{className:"form-legend"},"General"),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"form-label",htmlFor:"uploader-token"},"Token"),r.createElement("div",{className:"form-control-set"},r.createElement("input",{type:"password",className:"form-control",placeholder:"Key",name:"uploader-token",id:"uploader-token",onBlur:this.handleValidation("uploader-token"),onChange:this.onValueChange,value:this.state["uploader-token"]}),this.renderErrorMessage(this.getValidationMessages("uploader-token")[0]))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"form-label",htmlFor:"uploader-name"},"Uploader ",r.createElement("span",{className:"visually-hidden"},"name")),r.createElement("div",{className:"form-control-set"},r.createElement("input",{type:"text",className:"form-control",placeholder:"Name",name:"uploader-name",id:"uploader-name",onBlur:this.handleValidation("uploader-name"),onChange:this.onValueChange,value:this.state["uploader-name"]}),this.renderErrorMessage(this.getValidationMessages("uploader-name")[0]))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"form-label none",htmlFor:"uploader-email"},r.createElement("span",{className:"visually-hidden"},"Uploader email")),r.createElement("div",{className:"form-control-set"},r.createElement("input",{type:"email",className:"form-control",placeholder:"Email",name:"uploader-email",id:"uploader-email",onBlur:this.handleValidation("uploader-email"),onChange:this.onValueChange,value:this.state["uploader-email"]}),this.renderErrorMessage(this.getValidationMessages("uploader-email")[0])))),this.state.scenes.map(this.renderScene),r.createElement("div",{className:"form-extra-actions"},r.createElement("button",{type:"button",className:"bttn-add-scene",onClick:this.addScene,title:"Add new dataset"},r.createElement("span",null,"New dataset"))),r.createElement("div",{className:"form-note"},r.createElement("p",null,"By submitting imagery to OpenAerialMap, you agree to place your imagery into the ",r.createElement("a",{href:"https://github.com/openimagerynetwork/oin-register#open-imagery-network"},"Open Imagery Network (OIN)"),". All imagery contained in OIN is licensed ",r.createElement("a",{href:"https://creativecommons.org/licenses/by/4.0/"},"CC-BY 4.0"),", with attribution as contributors of Open Imagery Network. All imagery is available to be traced in OpenStreetMap.")),r.createElement("div",{className:"form-actions"},r.createElement("button",{type:"submit",className:"bttn-submit",onClick:this.onSubmit},r.createElement("span",null,"Submit")),r.createElement("div",{id:"upload-progress",className:this.state.uploadActive?"":"upload-inactive"},r.createElement("div",{className:"meter"},r.createElement("span",{style:{width:this.state.uploadProgress+"%"}})),r.createElement("span",{className:"upload-status"},this.state.uploadStatus))))),r.createElement("footer",{className:"panel-footer"})),this.state.loading?r.createElement("p",{className:"loading revealed"},"Loading"):null)}})}).call(this,e("_process"))},{"../actions/app-actions":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/actions/app-actions.js","../components/dropdown":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/components/dropdown.js","../components/scene":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/components/scene.js","../config":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config.js","../config.js":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config.js","../utils/cookie.js":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/utils/cookie.js",_process:"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/process/browser.js",joi:"joi",jquery:"jquery",lodash:"lodash",nets:"nets","react-validation-mixin":"react-validation-mixin","react/addons":"react/addons",url:"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/url/url.js"}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/views/status.js":[function(e,t,a){"use strict";function o(e){return s(e).format("YYYY-M-D [at] H:mm")}var r=e("react/addons"),n=e("react-router"),s=e("moment"),i=e("turf-centroid"),l=e("wellknown"),c=e("tilebelt"),u=e("util"),p=e("url"),m=e("nets"),d=e("../config.js").OAMUploaderApi,h=e("../config.js").OAMBrowserUrl,f=function(e){var t=10,a=l(e.footprint),o=i(a).geometry.coordinates,r=c.pointToTile(o[0],o[1],t+3),n=c.tileToQuadkey(r),s=o[0]+","+o[1]+","+t;return h+"/#/"+s+"/"+n+"/"};t.exports=r.createClass({displayName:"Status",mixins:[n.State],getInitialState:function(){return{loading:!0}},componentWillMount:function(){var e=this.getParams().id;m(p.resolve(d,"/uploads/"+e),function(e,t,a){if(e)return this.setState({loading:!1,errored:!0,message:e.message,data:e});try{var o=JSON.parse(a.toString());this.setState({loading:!1,errored:t.statusCode<200||t.statusCode>=400,message:"API responded with "+t.statusCode,data:o})}catch(e){return console.error(e),this.setState({loading:!1,errored:!0,message:"Error parsing API response; statusCode: "+t.statusCode,data:""+a})}}.bind(this))},renderScene:function(e){return r.createElement("section",{className:"panel status-panel"},r.createElement("header",{className:"panel-header"},r.createElement("div",{className:"panel-headline"},r.createElement("h1",{className:"panel-title"},"Dataset: ",r.createElement("span",{className:"given-title"},e.title)))),r.createElement("div",{className:"panel-body"},r.createElement("dl",{className:"status-details"},r.createElement("dt",null,"Platform"),r.createElement("dd",null,e.platform),r.createElement("dt",null,"Sensor"),r.createElement("dd",null,e.sensor||""),r.createElement("dt",null,"Provider"),r.createElement("dd",null,e.provider),r.createElement("dt",null,"Acquisition Date"),r.createElement("dd",null,o(e.acquisition_start)," - ",o(e.acquisition_end)),e.tms?[r.createElement("dt",null,"Tile service"),r.createElement("dd",null,e.tms)]:"",r.createElement("dt",null,"Contact"),r.createElement("dd",null,r.createElement("span",{className:"name"},e.contact.name),r.createElement("span",{className:"email"},e.contact.email))),e.images.map(this.renderImage)),r.createElement("footer",{className:"panel-footer"}))},renderImage:function(e,t){var a,n=(e.messages||[]).map(function(e){return r.createElement("li",null,e)});if("finished"===e.status){var s=e.metadata,i=f(s);a="status-success",n.unshift(r.createElement("li",null,r.createElement("a",{href:i,title:"View image on OpenAerialMap",className:"bttn-view-image"},"View image")))}else"processing"===e.status?(a="status-processing",n.unshift(r.createElement("li",null,"Upload in progress."))):"errored"===e.status&&(a="status-error",n.unshift(r.createElement("li",null,r.createElement("strong",null,"Upload failed: ")," ",e.error.message)));a=" "+a+" ";var l={initial:"Pending",processing:"Processing",finished:"Finished",errored:"Errored"};return r.createElement("div",{className:"image-block"+a},r.createElement("h2",{className:"image-block-title"},"Image ",t),r.createElement("p",{className:"status"+a},l[e.status]),r.createElement("dl",{className:"status-details"},r.createElement("dt",null,"Started"),r.createElement("dd",null,o(e.startedAt)),e.stoppedAt?[r.createElement("dt",null,"finished"===e.status?"Finished":"Stopped"),r.createElement("dd",null,o(e.stoppedAt))]:"",r.createElement("dt",null,"Info"),r.createElement("dd",{className:"info-detail"},r.createElement("ul",null,n))))},render:function(){if(this.state.loading)return r.createElement("div",null,r.createElement("h1",null,"Loading..."));if(this.state.errored)return r.createElement("div",{className:"intro-block"},r.createElement("h2",null,"Status upload"),r.createElement("p",null,"There was an error: ",this.state.message,"."),r.createElement("pre",null,u.inspect(this.state.data)));var e=this.state.data;return r.createElement("div",null,r.createElement("div",{className:"intro-block"},r.createElement("h2",null,"Status upload")),r.createElement("section",{className:"panel status-panel"},r.createElement("header",{className:"panel-header"},r.createElement("div",{className:"panel-headline"},r.createElement("h1",{className:"panel-title"},"General"))),r.createElement("div",{className:"panel-body"},r.createElement("dl",{className:"status-details"},r.createElement("dt",null,"Uploader"),r.createElement("dd",null,r.createElement("span",{className:"name"},e.uploader.name),r.createElement("span",{className:"email"},e.uploader.email)),r.createElement("dt",null,"Date"),r.createElement("dd",null,o(e.createdAt)))),r.createElement("footer",{className:"panel-footer"})),e.scenes.map(function(e){return this.renderScene(e)}.bind(this)))}})},{"../config.js":"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/config.js",moment:"moment",nets:"nets","react-router":"react-router","react/addons":"react/addons",tilebelt:"tilebelt","turf-centroid":"turf-centroid",url:"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/url/url.js",util:"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/util/util.js",wellknown:"wellknown"}],"/home/travis/build/hotosm/oam-uploader/app/assets/scripts/views/uhoh.js":[function(e,t,a){"use strict";var o=e("react/addons"),r=o.createClass({displayName:"UhOh",render:function(){return o.createElement("div",{className:"intro-block"},o.createElement("h2",null,"404 Not found"),o.createElement("p",null,"UhOh that is a bummer."))}});t.exports=r},{"react/addons":"react/addons"}],"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/process/browser.js":[function(e,t,a){function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(e){if(p===setTimeout)return setTimeout(e,0);if((p===o||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function s(e){if(m===clearTimeout)return clearTimeout(e);if((m===r||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(e);try{return m(e)}catch(t){try{return m.call(null,e)}catch(t){return m.call(this,e)}}}function i(){g&&h&&(g=!1,h.length?f=h.concat(f):v=-1,f.length&&l())}function l(){if(!g){var e=n(i);g=!0;for(var t=f.length;t;){for(h=f,f=[];++v<t;)h&&h[v].run();v=-1,t=f.length}h=null,g=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var p,m,d=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:o}catch(e){p=o}try{m="function"==typeof clearTimeout?clearTimeout:r}catch(e){m=r}}();var h,f=[],g=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];f.push(new c(e,t)),1!==f.length||g||n(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/punycode/punycode.js":[function(e,t,a){(function(e){!function(o){function r(e){throw new RangeError(D[e])}function n(e,t){for(var a=e.length,o=[];a--;)o[a]=t(e[a]);return o}function s(e,t){var a=e.split("@"),o="";a.length>1&&(o=a[0]+"@",e=a[1]),e=e.replace(M,".");var r=e.split("."),s=n(r,t).join(".");return o+s}function i(e){for(var t,a,o=[],r=0,n=e.length;r<n;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<n?(a=e.charCodeAt(r++),56320==(64512&a)?o.push(((1023&t)<<10)+(1023&a)+65536):(o.push(t),r--)):o.push(t);return o}function l(e){return n(e,function(e){var t="";return e>65535&&(e-=65536,t+=V(e>>>10&1023|55296),e=56320|1023&e),t+=V(e)}).join("")}function c(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:w}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,a){var o=0;for(e=a?P(e/x):e>>1,e+=P(e/t);e>_*j>>1;o+=w)e=P(e/_);return P(o+(_+1)*e/(e+S))}function m(e){var t,a,o,n,s,i,u,m,d,h,f=[],g=e.length,v=0,y=T,b=k;for(a=e.lastIndexOf(A),a<0&&(a=0),o=0;o<a;++o)e.charCodeAt(o)>=128&&r("not-basic"),f.push(e.charCodeAt(o));for(n=a>0?a+1:0;n<g;){for(s=v,i=1,u=w;n>=g&&r("invalid-input"),m=c(e.charCodeAt(n++)),(m>=w||m>P((N-v)/i))&&r("overflow"),v+=m*i,d=u<=b?C:u>=b+j?j:u-b,!(m<d);u+=w)h=w-d,i>P(N/h)&&r("overflow"),i*=h;t=f.length+1,b=p(v-s,t,0==s),P(v/t)>N-y&&r("overflow"),y+=P(v/t),v%=t,f.splice(v++,0,y)}return l(f)}function d(e){var t,a,o,n,s,l,c,m,d,h,f,g,v,y,b,E=[];for(e=i(e),g=e.length,t=T,a=0,s=k,l=0;l<g;++l)f=e[l],f<128&&E.push(V(f));for(o=n=E.length,n&&E.push(A);o<g;){for(c=N,l=0;l<g;++l)f=e[l],f>=t&&f<c&&(c=f);for(v=o+1,c-t>P((N-a)/v)&&r("overflow"),a+=(c-t)*v,t=c,l=0;l<g;++l)if(f=e[l],f<t&&++a>N&&r("overflow"),f==t){for(m=a,d=w;h=d<=s?C:d>=s+j?j:d-s,!(m<h);d+=w)b=m-h,y=w-h,E.push(V(u(h+b%y,0))),m=P(b/y);E.push(V(u(m,0))),s=p(a,v,o==n),a=0,++o}++a,++t}return E.join("")}function h(e){return s(e,function(e){return O.test(e)?m(e.slice(4).toLowerCase()):e})}function f(e){return s(e,function(e){return I.test(e)?"xn--"+d(e):e})}var g="object"==typeof a&&a&&!a.nodeType&&a,v="object"==typeof t&&t&&!t.nodeType&&t,y="object"==typeof e&&e;y.global!==y&&y.window!==y&&y.self!==y||(o=y);var b,E,N=2147483647,w=36,C=1,j=26,S=38,x=700,k=72,T=128,A="-",O=/^xn--/,I=/[^\x20-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=w-C,P=Math.floor,V=String.fromCharCode;if(b={version:"1.4.1",ucs2:{decode:i,encode:l},decode:m,encode:d,toASCII:f,toUnicode:h},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(g&&v)if(t.exports==g)v.exports=b;else for(E in b)b.hasOwnProperty(E)&&(g[E]=b[E]);else o.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/querystring-es3/decode.js":[function(e,t,a){"use strict";function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,a,n){t=t||"&",a=a||"=";var s={};if("string"!=typeof e||0===e.length)return s;var i=/\+/g;e=e.split(t);var l=1e3;n&&"number"==typeof n.maxKeys&&(l=n.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var p,m,d,h,f=e[u].replace(i,"%20"),g=f.indexOf(a);g>=0?(p=f.substr(0,g),m=f.substr(g+1)):(p=f,m=""),d=decodeURIComponent(p),h=decodeURIComponent(m),o(s,d)?r(s[d])?s[d].push(h):s[d]=[s[d],h]:s[d]=h}return s};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/querystring-es3/encode.js":[function(e,t,a){"use strict";function o(e,t){if(e.map)return e.map(t);for(var a=[],o=0;o<e.length;o++)a.push(t(e[o],o));return a}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,a,i){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?o(s(e),function(s){var i=encodeURIComponent(r(s))+a;return n(e[s])?o(e[s],function(e){return i+encodeURIComponent(r(e))}).join(t):i+encodeURIComponent(r(e[s]))}).join(t):i?encodeURIComponent(r(i))+a+encodeURIComponent(r(e)):""};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.push(a);return t}},{}],"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/querystring-es3/index.js":[function(e,t,a){"use strict";a.decode=a.parse=e("./decode"),a.encode=a.stringify=e("./encode")},{"./decode":"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/querystring-es3/decode.js","./encode":"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/querystring-es3/encode.js"}],"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/url/url.js":[function(e,t,a){"use strict";function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(e,t,a){if(e&&c.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,a),r}function n(e){return c.isString(e)&&(e=r(e)),e instanceof o?e.format():o.prototype.format.call(e)}function s(e,t){return r(e,!1,!0).resolve(t)}function i(e,t){return e?r(e,!1,!0).resolveObject(t):t}var l=e("punycode"),c=e("./util");a.parse=r,a.resolve=s,a.resolveObject=i,a.format=n,a.Url=o;var u=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,m=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],h=["{","}","|","\\","^","`"].concat(d),f=["'"].concat(h),g=["%","/","?",";","#"].concat(f),v=["/","?","#"],y=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,E=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,N={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j=e("querystring");o.prototype.parse=function(e,t,a){if(!c.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),r=o!==-1&&o<e.indexOf("#")?"?":"#",n=e.split(r),s=/\\/g;n[0]=n[0].replace(s,"/"),e=n.join(r);var i=e;if(i=i.trim(),!a&&1===e.split("#").length){var p=m.exec(i);if(p)return this.path=i,this.href=i,this.pathname=p[1],p[2]?(this.search=p[2],t?this.query=j.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var d=u.exec(i);if(d){d=d[0];var h=d.toLowerCase();this.protocol=h,i=i.substr(d.length)}if(a||d||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===i.substr(0,2);!S||d&&w[d]||(i=i.substr(2),this.slashes=!0)}if(!w[d]&&(S||d&&!C[d])){for(var x=-1,k=0;k<v.length;k++){var T=i.indexOf(v[k]);T!==-1&&(x===-1||T<x)&&(x=T)}var A,O;O=x===-1?i.lastIndexOf("@"):i.lastIndexOf("@",x),O!==-1&&(A=i.slice(0,O),i=i.slice(O+1),this.auth=decodeURIComponent(A)),x=-1;for(var k=0;k<g.length;k++){var T=i.indexOf(g[k]);T!==-1&&(x===-1||T<x)&&(x=T)}x===-1&&(x=i.length),this.host=i.slice(0,x),i=i.slice(x),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var M=this.hostname.split(/\./),k=0,D=M.length;k<D;k++){var _=M[k];if(_&&!_.match(b)){for(var P="",V=0,U=_.length;V<U;V++)P+=_.charCodeAt(V)>127?"x":_[V];if(!P.match(b)){var q=M.slice(0,k),L=M.slice(k+1),F=_.match(E);F&&(q.push(F[1]),L.unshift(F[2])),L.length&&(i="/"+L.join(".")+i),this.hostname=q.join(".");break}}}this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=l.toASCII(this.hostname));var R=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+R,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!N[h])for(var k=0,D=f.length;k<D;k++){var z=f[k];if(i.indexOf(z)!==-1){var H=encodeURIComponent(z);H===z&&(H=escape(z)),i=i.split(z).join(H)}}var G=i.indexOf("#");G!==-1&&(this.hash=i.substr(G),i=i.slice(0,G));var Y=i.indexOf("?");if(Y!==-1?(this.search=i.substr(Y),this.query=i.substr(Y+1),t&&(this.query=j.parse(this.query)),i=i.slice(0,Y)):t&&(this.search="",this.query={}),i&&(this.pathname=i),C[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",K=this.search||"";this.path=R+K}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",a=this.pathname||"",o=this.hash||"",r=!1,n="";this.host?r=e+this.host:this.hostname&&(r=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(n=j.stringify(this.query));var s=this.search||n&&"?"+n||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||C[t])&&r!==!1?(r="//"+(r||""),a&&"/"!==a.charAt(0)&&(a="/"+a)):r||(r=""),o&&"#"!==o.charAt(0)&&(o="#"+o),s&&"?"!==s.charAt(0)&&(s="?"+s),a=a.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+r+a+s+o},o.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(c.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var a=new o,r=Object.keys(this),n=0;n<r.length;n++){var s=r[n];a[s]=this[s]}if(a.hash=e.hash,""===e.href)return a.href=a.format(),a;if(e.slashes&&!e.protocol){for(var i=Object.keys(e),l=0;l<i.length;l++){var u=i[l];"protocol"!==u&&(a[u]=e[u])}return C[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(e.protocol&&e.protocol!==a.protocol){if(!C[e.protocol]){for(var p=Object.keys(e),m=0;m<p.length;m++){var d=p[m];a[d]=e[d]}return a.href=a.format(),a}if(a.protocol=e.protocol,e.host||w[e.protocol])a.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),a.pathname=h.join("/")}if(a.search=e.search,a.query=e.query,a.host=e.host||"",a.auth=e.auth,a.hostname=e.hostname||e.host,a.port=e.port,a.pathname||a.search){var f=a.pathname||"",g=a.search||"";a.path=f+g}return a.slashes=a.slashes||e.slashes,a.href=a.format(),a}var v=a.pathname&&"/"===a.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=y||v||a.host&&e.pathname,E=b,N=a.pathname&&a.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],j=a.protocol&&!C[a.protocol];if(j&&(a.hostname="",a.port=null,a.host&&(""===N[0]?N[0]=a.host:N.unshift(a.host)),a.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),b=b&&(""===h[0]||""===N[0])),y)a.host=e.host||""===e.host?e.host:a.host,a.hostname=e.hostname||""===e.hostname?e.hostname:a.hostname,a.search=e.search,a.query=e.query,N=h;else if(h.length)N||(N=[]),N.pop(),N=N.concat(h),a.search=e.search,a.query=e.query;else if(!c.isNullOrUndefined(e.search)){if(j){a.hostname=a.host=N.shift();var S=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@");S&&(a.auth=S.shift(),a.host=a.hostname=S.shift())}return a.search=e.search,a.query=e.query,c.isNull(a.pathname)&&c.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!N.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var x=N.slice(-1)[0],k=(a.host||e.host||N.length>1)&&("."===x||".."===x)||""===x,T=0,A=N.length;A>=0;A--)x=N[A],"."===x?N.splice(A,1):".."===x?(N.splice(A,1),T++):T&&(N.splice(A,1),T--);if(!b&&!E)for(;T--;T)N.unshift("..");!b||""===N[0]||N[0]&&"/"===N[0].charAt(0)||N.unshift(""),k&&"/"!==N.join("/").substr(-1)&&N.push("");var O=""===N[0]||N[0]&&"/"===N[0].charAt(0);if(j){a.hostname=a.host=O?"":N.length?N.shift():"";var S=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@");S&&(a.auth=S.shift(),a.host=a.hostname=S.shift())}return b=b||a.host&&N.length,b&&!O&&N.unshift(""),N.length?a.pathname=N.join("/"):(a.pathname=null,a.path=null),c.isNull(a.pathname)&&c.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=e.auth||a.auth,a.slashes=a.slashes||e.slashes,a.href=a.format(),a},o.prototype.parseHost=function(){var e=this.host,t=p.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/url/util.js",punycode:"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/punycode/punycode.js",querystring:"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/querystring-es3/index.js"}],"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/url/util.js":[function(e,t,a){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/util/node_modules/inherits/inherits_browser.js":[function(e,t,a){
"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}},{}],"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/util/support/isBufferBrowser.js":[function(e,t,a){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/util/util.js":[function(e,t,a){(function(t,o){function r(e,t){var o={seen:[],stylize:s};return arguments.length>=3&&(o.depth=arguments[2]),arguments.length>=4&&(o.colors=arguments[3]),f(t)?o.showHidden=t:t&&a._extend(o,t),N(o.showHidden)&&(o.showHidden=!1),N(o.depth)&&(o.depth=2),N(o.colors)&&(o.colors=!1),N(o.customInspect)&&(o.customInspect=!0),o.colors&&(o.stylize=n),l(o,e,o.depth)}function n(e,t){var a=r.styles[t];return a?"["+r.colors[a][0]+"m"+e+"["+r.colors[a][1]+"m":e}function s(e,t){return e}function i(e){var t={};return e.forEach(function(e,a){t[e]=!0}),t}function l(e,t,o){if(e.customInspect&&t&&x(t.inspect)&&t.inspect!==a.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(o,e);return b(r)||(r=l(e,r,o)),r}var n=c(e,t);if(n)return n;var s=Object.keys(t),f=i(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),S(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(t);if(0===s.length){if(x(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(j(t))return e.stylize(Date.prototype.toString.call(t),"date");if(S(t))return u(t)}var v="",y=!1,E=["{","}"];if(h(t)&&(y=!0,E=["[","]"]),x(t)){var N=t.name?": "+t.name:"";v=" [Function"+N+"]"}if(w(t)&&(v=" "+RegExp.prototype.toString.call(t)),j(t)&&(v=" "+Date.prototype.toUTCString.call(t)),S(t)&&(v=" "+u(t)),0===s.length&&(!y||0==t.length))return E[0]+v+E[1];if(o<0)return w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var C;return C=y?p(e,t,o,f,s):s.map(function(a){return m(e,t,o,f,a,y)}),e.seen.pop(),d(C,v,E)}function c(e,t){if(N(t))return e.stylize("undefined","undefined");if(b(t)){var a="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(a,"string")}return y(t)?e.stylize(""+t,"number"):f(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,a,o,r){for(var n=[],s=0,i=t.length;s<i;++s)I(t,String(s))?n.push(m(e,t,a,o,String(s),!0)):n.push("");return r.forEach(function(r){r.match(/^\d+$/)||n.push(m(e,t,a,o,r,!0))}),n}function m(e,t,a,o,r,n){var s,i,c;if(c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},c.get?i=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(i=e.stylize("[Setter]","special")),I(o,r)||(s="["+r+"]"),i||(e.seen.indexOf(c.value)<0?(i=g(a)?l(e,c.value,null):l(e,c.value,a-1),i.indexOf("\n")>-1&&(i=n?i.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+i.split("\n").map(function(e){return"   "+e}).join("\n"))):i=e.stylize("[Circular]","special")),N(s)){if(n&&r.match(/^\d+$/))return i;s=JSON.stringify(""+r),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+i}function d(e,t,a){var o=0,r=e.reduce(function(e,t){return o++,t.indexOf("\n")>=0&&o++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?a[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+a[1]:a[0]+t+" "+e.join(", ")+" "+a[1]}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function E(e){return"symbol"==typeof e}function N(e){return void 0===e}function w(e){return C(e)&&"[object RegExp]"===T(e)}function C(e){return"object"==typeof e&&null!==e}function j(e){return C(e)&&"[object Date]"===T(e)}function S(e){return C(e)&&("[object Error]"===T(e)||e instanceof Error)}function x(e){return"function"==typeof e}function k(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function T(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}function O(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var M=/%[sdj%]/g;a.format=function(e){if(!b(e)){for(var t=[],a=0;a<arguments.length;a++)t.push(r(arguments[a]));return t.join(" ")}for(var a=1,o=arguments,n=o.length,s=String(e).replace(M,function(e){if("%%"===e)return"%";if(a>=n)return e;switch(e){case"%s":return String(o[a++]);case"%d":return Number(o[a++]);case"%j":try{return JSON.stringify(o[a++])}catch(t){return"[Circular]"}default:return e}}),i=o[a];a<n;i=o[++a])s+=g(i)||!C(i)?" "+i:" "+r(i);return s},a.deprecate=function(e,r){function n(){if(!s){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),s=!0}return e.apply(this,arguments)}if(N(o.process))return function(){return a.deprecate(e,r).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return n};var D,_={};a.debuglog=function(e){if(N(D)&&(D=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!_[e])if(new RegExp("\\b"+e+"\\b","i").test(D)){var o=t.pid;_[e]=function(){var t=a.format.apply(a,arguments);console.error("%s %d: %s",e,o,t)}}else _[e]=function(){};return _[e]},a.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},a.isArray=h,a.isBoolean=f,a.isNull=g,a.isNullOrUndefined=v,a.isNumber=y,a.isString=b,a.isSymbol=E,a.isUndefined=N,a.isRegExp=w,a.isObject=C,a.isDate=j,a.isError=S,a.isFunction=x,a.isPrimitive=k,a.isBuffer=e("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];a.log=function(){console.log("%s - %s",O(),a.format.apply(a,arguments))},a.inherits=e("inherits"),a._extend=function(e,t){if(!t||!C(t))return e;for(var a=Object.keys(t),o=a.length;o--;)e[a[o]]=t[a[o]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/util/support/isBufferBrowser.js",_process:"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/process/browser.js",inherits:"/home/travis/build/hotosm/oam-uploader/node_modules/browserify/node_modules/util/node_modules/inherits/inherits_browser.js"}]},{},["/home/travis/build/hotosm/oam-uploader/app/assets/scripts/main.js"]);